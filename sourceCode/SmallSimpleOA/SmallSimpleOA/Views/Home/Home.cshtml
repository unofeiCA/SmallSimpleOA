@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model SmallSimpleOA.ViewModels.HomeHomeViewModel;
<div class="container row ">
    <div class="col-6 container">
        <h3>Events</h3>
        <div class="list-group">
            <a href="#" class="list-group-item list-group-item-action active">
                Cras justo odio
            </a>
            <a href="#" class="list-group-item list-group-item-action">Dapibus ac facilisis in</a>
            <a href="#" class="list-group-item list-group-item-action">Morbi leo risus</a>
            <a href="#" class="list-group-item list-group-item-action">Porta ac consectetur ac</a>
            <a href="#" class="list-group-item list-group-item-action disabled">Vestibulum at eros</a>
            <a href="#" class="list-group-item list-group-item-action">Dapibus ac facilisis in</a>
            <a href="#" class="list-group-item list-group-item-action">Morbi leo risus</a>
            <a href="#" class="list-group-item list-group-item-action">Porta ac consectetur ac</a>
            <a href="#" class="list-group-item list-group-item-action disabled">Vestibulum at eros</a>

        </div>
        <br />
        <nav aria-label="Page navigation example">
            <ul class="pagination">
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
    <div class="col-6 container">
        <h3>To-do List</h3>
        <div class="list-group">
            <a href="#" class="list-group-item list-group-item-action active">
                Cras justo odio
            </a>
            <a class="list-group-item list-group-item-action" asp-controller="Todo" asp-action="Detail" asp-route-id="1">Dapibus ac facilisis in</a>
            <a href="#" class="list-group-item list-group-item-action">Morbi leo risus</a>
            <a href="#" class="list-group-item list-group-item-action">Porta ac consectetur ac</a>
            <a href="#" class="list-group-item list-group-item-action disabled">Vestibulum at eros</a>
            <a href="#" class="list-group-item list-group-item-action">Dapibus ac facilisis in</a>
            <a href="#" class="list-group-item list-group-item-action">Morbi leo risus</a>
            <a href="#" class="list-group-item list-group-item-action">Porta ac consectetur ac</a>
            <a href="#" class="list-group-item list-group-item-action disabled">Vestibulum at eros</a>

        </div>
        <br />
        <nav aria-label="Page navigation example">
            <ul class="pagination">
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            </ul>
        </nav>

    </div>

</div>

@if (@Model.NeedClockIn)
{
    <div id="signPop" class="card text-white bg-info mb-3" style="max-width: 18rem; z-index:500;">
        <div class="card-header">You Have NOT Clocked In Today! Clock In Now?</div>
        <div class="card-body row">
            <div class="col-auto">
            </div>
            <div class="col-auto button-light">
                <a class="text-white" onclick="cancelClock();" href="#">No thanks</a>
            </div>
            <div class="col-2">
            </div>
            <div class="col-auto button-light">
                <a class="text-white" onclick="clockIn();" href="#">Sure</a>
            </div>
            <div class="col-auto">
            </div>
        </div>
    </div>

    @section Scripts{
        <script>

            $("#signPop").position({
                my: "right top",
                at: "right-15 bottom+15",
                of: "#messagePopBase"
            });

            function clockIn()
            {
                $.ajax({
                    type: "POST",
                    data: {actionType : "1", by : "ajax"},
                    url: "@Url.Action("DoClock", "Attendance")",
                    dataType: 'text',
                    success: function (response) {
                        if (response != "0")
                        {
                            alert(response);
                        }
                        else
                        {
                            
                            $("#signPop").fadeOut({'complete' :
                                function()
                                {
                                    $("#signPop").children(".card-body").remove();
                                    $("#signPop").children(".card-header").text("Clock in success!");
                                    $("#signPop").fadeIn({'complete' :
                                        function()
                                        {

                                           $("#signPop").delay(1000).fadeOut();
                                        }
                                    });
                                }
                            });
                        }
                    },
                    error: function (response) {
                        alert("Some unknown error occured, please try it again later.");
                    }

                });
            }

            function cancelClock()
            {
                $("#signPop").fadeOut();
            }
        </script>
    }
}
